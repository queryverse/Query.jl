<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Experimental Features · Query.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Query.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../gettingstarted/">Getting Started</a></li><li><a class="tocitem" href="../standalonequerycommands/">Standalone Query Commands</a></li><li><a class="tocitem" href="../linqquerycommands/">LINQ Style Query Commands</a></li><li><a class="tocitem" href="../sources/">Data Sources</a></li><li><a class="tocitem" href="../sinks/">Data Sinks</a></li><li class="is-active"><a class="tocitem" href>Experimental Features</a><ul class="internal"><li><a class="tocitem" href="#Source-as-the-first-argument-to-standalone-query-commands-1"><span>Source as the first argument to standalone query commands</span></a></li><li><a class="tocitem" href="#The-_-and-__-syntax-1"><span>The <code>_</code> and <code>__</code> syntax</span></a></li><li><a class="tocitem" href="#Key-selector-in-the-@unique-standalone-command-1"><span>Key selector in the <code>@unique</code> standalone command</span></a></li></ul></li><li><a class="tocitem" href="../internals/">Internals</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Experimental Features</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Experimental Features</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/queryverse/Query.jl/blob/master/docs/src/experimental.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Experimental-features-1"><a class="docs-heading-anchor" href="#Experimental-features-1">Experimental features</a><a class="docs-heading-anchor-permalink" href="#Experimental-features-1" title="Permalink"></a></h1><p>The following features are experimental, i.e. they might change significantly in the future. You are advised to only use them if you are prepared to deal with significant changes to these features in future versions of Query.jl. At the same time any feedback on these features would be especially welcome.</p><h2 id="Source-as-the-first-argument-to-standalone-query-commands-1"><a class="docs-heading-anchor" href="#Source-as-the-first-argument-to-standalone-query-commands-1">Source as the first argument to standalone query commands</a><a class="docs-heading-anchor-permalink" href="#Source-as-the-first-argument-to-standalone-query-commands-1" title="Permalink"></a></h2><p>Some standalone query commands accept the source argument as the first argument, in addition to accepting it via the pipe operator. For example, <code>source |&gt; @map(_)</code> and @map(source, _)` are equivalent. These source-as-the-first-argument versions of the standalone query operators are considered experimental and might disappear in future releases.</p><h2 id="The-_-and-__-syntax-1"><a class="docs-heading-anchor" href="#The-_-and-__-syntax-1">The <code>_</code> and <code>__</code> syntax</a><a class="docs-heading-anchor-permalink" href="#The-_-and-__-syntax-1" title="Permalink"></a></h2><p>This syntax only works in the standalone query commands. Instead of writing a full anonymous function, for example <code>@map(i-&gt;i.a)</code>, one can write <code>@map(_.a)</code>, where <code>_</code> stands for the current element, i.e. has the same role as the argument of the anonymous function.</p><p>If one uses both <code>_</code> and <code>__</code>, Query will automatically create an anonymous function with two arguments. For example, the result selector in the <code>@join</code> command requires an anonymous function that takes two arguments. This can be written succinctly like this:</p><pre><code class="language-julia">using DataFrames, Query

df_parents = DataFrame(Name=[&quot;John&quot;, &quot;Sally&quot;])
df_children = DataFrame(Name=[&quot;Bill&quot;, &quot;Joe&quot;, &quot;Mary&quot;], Parent=[&quot;John&quot;, &quot;John&quot;, &quot;Sally&quot;])

df_parents |&gt; @join(df_children, _.Name, _.Parent, {Parent=_.Name, Child=__.Name}) |&gt; DataFrame</code></pre><h2 id="Key-selector-in-the-@unique-standalone-command-1"><a class="docs-heading-anchor" href="#Key-selector-in-the-@unique-standalone-command-1">Key selector in the <code>@unique</code> standalone command</a><a class="docs-heading-anchor-permalink" href="#Key-selector-in-the-@unique-standalone-command-1" title="Permalink"></a></h2><p>As an experimental feature, one can specify a key selector for the <code>@unique</code> command. In that case uniqueness is tested based on that key.</p><pre><code class="language-julia">using Query

source = [1,-1,2,2,3]

q = source |&gt; @unique(abs(_)) |&gt; collect

println(q)

# output

[1, 2, 3]</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../sinks/">« Data Sinks</a><a class="docs-footer-nextpage" href="../internals/">Internals »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 29 December 2023 23:20">Friday 29 December 2023</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
